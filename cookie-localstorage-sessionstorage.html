<!DOCTYPE html>
<html lang=zh>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="baidu-site-verification" content="mtEkuH1Xca">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="通过这个博客，希望将自己学到的成果总结出来，与大家一起分享交流">
  <meta name="keywords" content="独立博客，独立博客，技术开发，前端开发，技术总结，技术分享">
  
    <link rel="icon" href="/favicon.ico">
  
    
  <title>详解前端开发中的存储方案 | huip</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/bootstrap.min.css">
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/lib/jquery.fancybox.min.css">
</head>

<body>
  <style type="text/css">
    header.intro-header {
        background-image: url('/assets/banners/post.jpg')
        
    }
    
</style>

<header class="intro-header">
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
                    <div class="post-heading">
                        <div class="tags">
                            
                            <a class="tag" href="/tags/#前端存储" title="前端存储">
                                前端存储</a>
                            
                        </div>
                        <h1>
                            详解前端开发中的存储方案
                        </h1>
                        <h2 class="subheading">
                            
                        </h2>
                        <span class="meta">
                            作者：
                            huip 发布时间：
                            2018-09-10
                        </span>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
                huip
            </a>
        </div>
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    
                        <li>
                        
                            <a href="/">首页</a>
                        
                        </li>
                    
                        <li>
                        
                            <a href="/about">关于</a>
                        
                        </li>
                    
                        <li>
                        
                            <a href="/archives">归档</a>
                        
                        </li>
                    
                        <li>
                        
                            <a href="/tags">标签</a>
                        
                        </li>
                    
                </ul>
            </div>
        </div>
    </div>
</nav>
<script>
    var $body = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');
    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e) {
        if ($navbar.className.indexOf('in') > 0) {
            $navbar.className = " ";
            setTimeout(function () {
                if ($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            }, 400)
        } else {
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>
  <main id="post">
    <div class="content">
        <article>
            <section class="content markdown-body">
                <!-- <h1>
                    详解前端开发中的存储方案
                </h1> -->
                <!-- <div class='post-meta'>
                    <i class="fa fa-calendar" aria-hidden="true"></i> <time>
                        2018/09/10</time>
                    
                    | <i class="fa fa-folder-open-o" aria-hidden="true"></i>
                    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端基础/">前端基础</a>
  </div>

                    
                    
                    |
                    
                    <i class="fa fa-tag" aria-hidden="true"></i>
                    
                    
  <a href="/tags/#前端存储" class="tag">前端存储</a>


                    
                </div> -->

                <p>在前端开发过程中，我们经常会遇到需要将数据存储在浏览器端的应用场景，那么浏览器端到底为我们都提供了哪些解决方案呢？接下来笔者将分别为大家介绍浏览器端的三种常用存储方案–cookie、localStorage和sessionStorage。</p>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p>Cookie俗称小甜心，是最古老的浏览器端的存储方案。其设计的初衷是为了解决无状态的HTTP协议传输用户登录信息的问题。</p>
<p><strong>特性</strong></p>
<ol>
<li>Cookie可以设置过期时间。</li>
<li>每个域下最大存储空间4KB。</li>
<li>Cookie的数据将会随着每个HTTP请求发送给服务端。（HTML,images,Javascript,CSS等）– 增加了客户端和服务端通信时的信息传输量。</li>
<li>满足浏览器同源策略，只能在同一域下访问和设置数据。</li>
<li>可以被js和服务端语言同时操作</li>
</ol>
<h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><p>localStorage是HTML5引入的浏览器端的存储方案</p>
<p><strong>特性：</strong></p>
<ol>
<li>每个域下最大存储空间5MB。</li>
<li>其存储的数据不会通过HTTP请求发送到服务端，可以减少HTTP请求的负载。</li>
<li>满足浏览器同源策略，只能在同一域下访问和设置数据。</li>
<li>只能被js操作</li>
</ol>
<h3 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h3><p>和localStorage一样sessionStorage也是HTML5引入的浏览器端的存储方案</p>
<p><strong>特性：</strong></p>
<ol>
<li>每个域下最大存储空间5MB。</li>
<li>其存储的数据不会通过HTTP请求发送到服务端，可以减少HTTP请求的负载。</li>
<li>只能在同一个窗口（对于Chrome和Firefox来说对应为一个标签栏）下访问和设置数据。当窗口或者标签栏关闭时页面存储的数据将会被删除。</li>
<li>在同一个窗口或标签栏下设置的数据才能允许被访问</li>
<li>只能被js操作</li>
</ol>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>通过以上分析，我们能够清楚的了解到浏览器端三种存储方案的特性及优缺点。由于sessionStorage在关闭标签页或窗口时就会被清除，所以sessionStorage不太好管理和控制，可能会导致一些奇怪的Bug，因此笔者不推荐使用sessionStorage。</p>
<p><strong>使用场景</strong></p>
<p>由于Cookie在HTTP请求时会自动携带，因此Cookie比较适用于存储用户的登录会话状态，这样只需要在登录时设置一下Cookie前端就不需要后续人为管理Cookie的传输问题了。</p>
<p>localStorage作为一种对Cookie存储空间的补充，比较适合存放数据量相对较大的数据，比如用户在浏览器端的基础配置信息、购物车信息等</p>
<p>最后，出于安全性的考虑，由于存在XSS攻击的风险，因此敏感的用户数据最好不要存储在浏览器端。</p>

                
                <div class="money-like" id="like-money">
                    <div class="reward-button">赏
                        <span class="money-code">
                            <span class="alipay-code">
                                <a href="javascript:;">
                                    <img class="alipay-img" src="/assets/renew/zhb-qrcode.png"><b>支付宝扫码打赏</b>
                                </a>
                            </span>
                            <span class="wechat-code">
                                <a href="javascript:;">
                                    <img class="wechat-img" src="/assets/renew/wx-qrcode.png"><b>微信扫码打赏</b>
                                </a>
                            </span>
                        </span>
                    </div>
                    <p class="money-notice">如果你认为我的文章对你有帮助,欢迎点击上方按钮对我打赏</p>
                </div>
                
                
                <h3>推荐阅读</h3>
                

                
                <p><a href="linux-file-permmison-view.html">linux文件系统权限详解</a></p>
                

                
            </section>
        </article>



        
        <!-- disqus 评论框 start -->
        <div class="comment">
            <div id="gitalk-container"></div>
        </div>
        <!-- disqus 评论框 end -->
        
    </div>

    <aside>
        
        <div class="toc-container">
            <div>
                <h1>目录</h1>
                <div class="content">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#基本概念"><span class="toc-number">1.</span> <span class="toc-text">基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">1.1.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#localStorage"><span class="toc-number">1.2.</span> <span class="toc-text">localStorage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sessionStorage"><span class="toc-number">1.3.</span> <span class="toc-text">sessionStorage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">1.4.</span> <span class="toc-text">总结</span></a></li></ol></li></ol>
                </div>
            </div>
            <div class="link">
                友链:<a href="https://indie1024.com?source=huip">indie1024-中国独立开发者列表</a>
            </div>
        </div>
        

    </aside>
</main>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    var clientID = "79c2731c565cbb9ed73b";
    var clientSecret = "68d6fd68283e05517ef76929eafc4ca2b977d10e";
    var repo = "huipBlogComments";
    var owner = "huip";
    var admin = "huip";
    var gitalk = new Gitalk({
        clientID: clientID,
        clientSecret: clientSecret,
        repo: repo,
        owner: owner,
        admin: admin,
        id: location.pathname, // Ensure uniqueness and length less than 50
        distractionFreeMode: true // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>

  <footer>
    <div class="copyright">
        <div>
            &copy;
            2019 | Powered by <a href="/" target="_blank">huip</a>&nbsp
        </div>
    </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="/lib/in-view.min.js"></script>
<script src="/lib/lodash.min.js"></script>
<script>
    var isDown = true
    var oldY = 0
    inView.offset(50)

    document.body.addEventListener('touchstart', function () {});

    window.addEventListener('scroll', _.throttle(e => {
        var currentY = window.scrollY
        if ((oldY - currentY) < 0) {
            isDown = true
        } else {
            isDown = false
        }
        oldY = currentY
    }, 250))

    $("article img").each(function () {
        var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
        $(this).wrapAll(strA);
    });

    $('.toc-link').each(function () {
        var href = $(this).attr("href");

        inView(href).on('exit', () => {
            if (isDown) {
                handleActive(href)
            }
        })

        inView(href).on('enter', () => {
            if (!isDown) {
                handleActive(href)
            }
        })

        this.onclick = function (e) {
            var pos = $(href).offset().top - 10;
            $("html,body").animate({
                scrollTop: pos
            }, 300);
            setTimeout(() => {
                handleActive(href)
            }, 350)
            return false
        }
    })

    function handleActive(href) {
        document.querySelectorAll('.toc-link').forEach(elm => {
            elm.classList.remove('active')
        })
        document.querySelector(".toc [href='" + href + "']").classList.add('active')
    }
</script>

<script src="/js/script.js"></script>
<script src="/lib/jquery.fancybox.min.js"></script>


<script>
    var url = window.location.href
    if (url.indexOf('localhost') == -1) {
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?b8680f66d838085ad9f63b7c22e20726";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();

        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-45976880-1', 'auto');
        ga('send', 'pageview');
    }
</script>
</body>
</html>
